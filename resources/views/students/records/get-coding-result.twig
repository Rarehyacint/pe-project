<div id="coding-{{ data.number }}-div" class=" 
    {% if data.status != 'checked' %}
        border-gray-200 bg-gray-50 text-gray-800
    {% elseif data.failures is not empty %}
        border-orange-200 bg-orange-50 text-orange-800
    {% elseif data.success == false %}
        border-yellow-200 bg-yellow-50 text-yellow-800
    {% else %}
        border-green-200 bg-green-50 text-green-800
    {% endif %} 
    flex flex-col max-w-none p-4 border-4 rounded-xl my-2">
    <div class="flex items-center gap-x-8 h-48">
            <div class="flex justify-center items-center gap-x-2">
                {% if data.failures or data.success == false %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-15 shrink-0 inline-block">
                    <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd" />
                    </svg>
                {% else %}
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-15 shrink-0 inline-block">
                    <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" />
                    </svg>
                {% endif %}
                    <div class="max-w-16 text-wrap">
                        <p class="font-bold text-sm text-balance">
                            {{ data.failures ? 'Code had Compilation Error' : data.success == false ? 'Code had Runtime/Test Case Error' : 'All Tests Passed' }}
                        </p>                    
                    </div>
            </div>

            <div class="flex gap-x-2 overflow-auto px-2">

                {% if data.failures %}
                    {% for failure in data.failures %}
                        <pre class="text-gray-50 font-semibold text-xs">{{ failure }}</pre> 
                    {% endfor %}
                {% else %}
                    <div class="flex max-h-[10rem] space-x-4 my-2">
                    {% for class in data.test_results %}
                        {% for test in class.methods %}
                            <div class="p-4 rounded-lg border {{ test.status != 'PASSED' ? 'border-yellow-400 bg-yellow-100' : 'border-green-400 bg-green-100' }}">
                                <div class="flex items-center justify-between mb-2">
                                    <p class="font-bold text-sm flex items-center gap-x-1 {{ test.status != 'PASSED' ? 'text-yellow-600' : 'text-green-600' }}">
                                        {% if test.status != 'PASSED' %}
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                                        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z" clip-rule="evenodd" />
                                        </svg>
                                        {% else %}
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
                                        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" />
                                        </svg>

                                        {% endif %}
                                        {{ test.status }}
                                    </p>
                                    <p class="font-mono font-bold text-sm mx-2 {{ test.status != 'PASSED' ? 'border-yellow-400 bg-yellow-100' : 'border-green-400 bg-green-100' }}">{{ test.methodName }}</p>
                                </div>
                                {% if test.status != 'PASSED' %}
                                <pre class="whitespace-pre-wrap text-gray-700 text-xs">message : {{ test.message }}</pre>
                                {% endif %}
                            </div>
                        {% endfor %}
                    {% endfor %}
                    </div>
                {% endif %}
            </div>   
    </div>
</div>
<table id="coding-{{ data.number }}-table" class="inner-table m-0 ">
    <thead>
        <tr>
        <th>Syntax Points</th>
        <th>Runtime Points</th>
        <th>Test Case Points</th>
        </tr>
    </thead>
        <tbody>
            <tr>
                <td>{{ data.syntax_points }}</td>
                <td>{{ data.runtime_points }}</td>
                <td>{{ data.test_case_points }}</td>
            </tr>
        </tbody>                                  
</table>


<table>
    <thead>
        <tr id="row-{{ data.number }}">
        <td>{{ data.number }}</td>
        <td>Coding</td>
        <td>{{ data.question }}</td>
        <td class="text-xs">📝 see details</td>
        <td>{{ data.score }}/{{ data.max_score }}</td>
        <td>{{ data.score == data.max_score ? '🟢' : data.score > 0 and data.max_score != data.score ? '🟡' : '🔴'}}</td>
        </tr>
    </thead>
</table>



